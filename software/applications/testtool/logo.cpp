#include "common.h"

/*  Defines  */

#define IMG_LOGO_W 35
#define IMG_LOGO_H 16

/*  Local Variables  */

PROGMEM static const uint8_t imgLogo[70] = { // 35x16
    0x00, 0x80, 0xC0, 0x60, 0x20, 0xE0, 0x20, 0x20, 0x40, 0x80, 0x00, 0x00, 0xFF, 0x57, 0xAB, 0x57,
    0x01, 0xFF, 0x20, 0x20, 0x40, 0x80, 0x00, 0x00, 0x00, 0x80, 0xC0, 0x60, 0x20, 0xE0, 0x20, 0x20,
    0x40, 0x80, 0x00, 0x1F, 0x37, 0x6A, 0x95, 0xA8, 0x97, 0xAC, 0x94, 0x4C, 0x24, 0x1F, 0x00, 0x1F,
    0x35, 0x6A, 0x95, 0xA8, 0x97, 0xAC, 0x94, 0x4C, 0x24, 0x1F, 0x00, 0xFF, 0x97, 0xAA, 0x95, 0x80,
    0xBF, 0xAC, 0x94, 0xAC, 0x84, 0xFF
};

/*---------------------------------------------------------------------------*/

void initLogo(void)
{
    setSprite(0, (WIDTH - IMG_LOGO_W) / 2, (HEIGHT - IMG_LOGO_H) / 2, imgLogo,
            IMG_LOGO_W, IMG_LOGO_H, DIRECT);
    setString(8, 86, F(APP_CODE), WHITE);
    setString(9, 104, F("V" APP_VERSION), WHITE);
    counter = FPS * 2;
    isInvalid = true;
}

MODE_T updateLogo(void)
{
    return (--counter > 0) ? MODE_LOGO : MODE_TOP;
}
